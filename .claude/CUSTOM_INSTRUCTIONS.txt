# Custom Instructions for lykke.day Project

## Project Architecture
This project uses hexagonal/clean architecture with strict layer boundaries.

## Always-Applied Rules
When working on this project, always follow these rules:
- Read and follow: .claude/rules/events-and-audit-logs.mdc
- Read and follow: .claude/rules/python-help.mdc

## Context-Specific Rules (apply based on file path)

When working in backend/lykke/domain/entities/: Read .claude/rules/domain-entities.mdc
When working in backend/lykke/domain/value_objects/: Read .claude/rules/domain-value-objects.mdc
When working in backend/lykke/domain/events/: Read .claude/rules/domain-events.mdc
When working in backend/lykke/domain/services/: Read .claude/rules/domain-services.mdc
When working in backend/lykke/application/commands/: Read .claude/rules/application-commands.mdc
When working in backend/lykke/application/queries/: Read .claude/rules/application-queries.mdc
When working in backend/lykke/application/repositories/: Read .claude/rules/application-repositories.mdc
When working in backend/lykke/application/gateways/: Read .claude/rules/application-gateways.mdc
When working in backend/lykke/application/events/: Read .claude/rules/application-events.mdc
When working in backend/lykke/infrastructure/: Read .claude/rules/infrastructure.mdc
When working in backend/lykke/presentation/: Read .claude/rules/presentation.mdc
When working in backend/lykke/core/: Read .claude/rules/core.mdc

## Architecture Overview
For comprehensive architectural understanding, read: .claude/rules/backend-architecture.mdc

## Available Workflow Agents
- @add-feature - Interactive feature development workflow with approval checkpoints
- @run-tests - Run make test and analyze errors
- @run-typecheck - Run make typecheck and analyze errors
- @object-schema-mapper - Guide for the 4-object architecture (Entities, Value Objects, Tables, Schemas)

## Core Principles
1. Never violate layer boundaries
2. Always use proper object types for each layer (Entity/Value Object/Table/Schema)
3. Always create mappers between layers
4. Events are only Auditable if user-facing
5. Use Poetry for all Python commands
6. Check Makefile before writing custom commands
