{% if context.routines %}
# Routines by status (meaning in parentheses):
{% set status_descriptions = {
  "READY": "Ready to start now.",
  "PENDING": "Scheduled time arrived; should be worked on.",
  "NOT_STARTED": "Planned but not started yet.",
  "NOT_READY": "Blocked or waiting; not actionable yet.",
  "COMPLETE": "Finished already.",
  "PUNT": "Intentionally deferred; do not notify, included only as context."
} %}
{% for status in ["READY", "PENDING", "NOT_STARTED", "NOT_READY", "COMPLETE", "PUNT"] %}
{% set items = context.routines | selectattr("status.value", "equalto", status) | list %}
{% if items %}
## {{ status }} ({{ status_descriptions[status] }}):
{% for routine in items %}
{% include "components/routines/item.j2" %}
{% endfor %}
{% endif %}
{% endfor %}
{% endif %}
